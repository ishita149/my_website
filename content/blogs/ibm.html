---
title: "IBM HR analytics"
date: '2017-10-31T22:42:51-05:00'
description: IBM employee data analytics
draft: no
image: pic01.jpg
keywords: ''
slug: ibm
categories:
- ''
- ''
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div id="analysis-on-ibm-hr-analytics-employee-attrition-performance-data" class="section level1">
<h1>Analysis on IBM HR Analytics Employee Attrition &amp; Performance data</h1>
<p>We will analyse a data set on Human Resource Analytics.</p>
<p>The <a href="https://www.kaggle.com/pavansubhasht/ibm-hr-analytics-attrition-dataset">IBM HR Analytics Employee Attrition &amp; Performance data set</a> is a fictional data set created by IBM data scientists.</p>
<p>Among other things, the data set includes employees’ income, their distance from work, their position in the company, their level of education, etc. A full description can be found on the website.</p>
<div id="load-data" class="section level2">
<h2>Load data</h2>
<p>First let us load the data</p>
<pre class="r"><code>hr_dataset &lt;- read_csv(&quot;C:/Users/Ishita Gupta/Desktop/Applied statistics with R/applied-statistics/session2-workshop1/data/datasets_1067_1925_WA_Fn-UseC_-HR-Employee-Attrition.csv&quot;)</code></pre>
</div>
<div id="analysis" class="section level2">
<h2>Analysis</h2>
<div id="data-summary" class="section level3">
<h3>Data Summary</h3>
<pre class="r"><code>skim(hr_cleaned)</code></pre>
<table>
<caption>(#tab:one_page_summary)Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">hr_cleaned</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">1470</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">19</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">10</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">9</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">attrition</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">department</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">22</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">education</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">13</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">gender</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">job_role</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="right">25</td>
<td align="right">0</td>
<td align="right">9</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">environment_satisfaction</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">job_satisfaction</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">marital_status</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">performance_rating</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">work_life_balance</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">age</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">36.92</td>
<td align="right">9.14</td>
<td align="right">18</td>
<td align="right">30</td>
<td align="right">36</td>
<td align="right">43</td>
<td align="right">60</td>
<td align="left">▂▇▇▃▂</td>
</tr>
<tr class="even">
<td align="left">daily_rate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">802.49</td>
<td align="right">403.51</td>
<td align="right">102</td>
<td align="right">465</td>
<td align="right">802</td>
<td align="right">1157</td>
<td align="right">1499</td>
<td align="left">▇▇▇▇▇</td>
</tr>
<tr class="odd">
<td align="left">distance_from_home</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">9.19</td>
<td align="right">8.11</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">7</td>
<td align="right">14</td>
<td align="right">29</td>
<td align="left">▇▅▂▂▂</td>
</tr>
<tr class="even">
<td align="left">monthly_income</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6502.93</td>
<td align="right">4707.96</td>
<td align="right">1009</td>
<td align="right">2911</td>
<td align="right">4919</td>
<td align="right">8379</td>
<td align="right">19999</td>
<td align="left">▇▅▂▁▂</td>
</tr>
<tr class="odd">
<td align="left">num_companies_worked</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.69</td>
<td align="right">2.50</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">9</td>
<td align="left">▇▃▂▂▁</td>
</tr>
<tr class="even">
<td align="left">percent_salary_hike</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">15.21</td>
<td align="right">3.66</td>
<td align="right">11</td>
<td align="right">12</td>
<td align="right">14</td>
<td align="right">18</td>
<td align="right">25</td>
<td align="left">▇▅▃▂▁</td>
</tr>
<tr class="odd">
<td align="left">total_working_years</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">11.28</td>
<td align="right">7.78</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">10</td>
<td align="right">15</td>
<td align="right">40</td>
<td align="left">▇▇▂▁▁</td>
</tr>
<tr class="even">
<td align="left">years_at_company</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7.01</td>
<td align="right">6.13</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">5</td>
<td align="right">9</td>
<td align="right">40</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">years_since_last_promotion</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.19</td>
<td align="right">3.22</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">15</td>
<td align="left">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
</div>
<div id="how-often-do-people-leave-the-company" class="section level3">
<h3>How often do people leave the company?</h3>
<p>The mean tenure of those who left should give us this answer.</p>
<pre class="r"><code># Calculate how often do people leave the company? Mean of tenure of those who leave

hr_attrition &lt;- hr_cleaned %&gt;%  # Create a data set of those who left in case we need it afterwards
  filter(attrition == &quot;Yes&quot;) # Filter by yes
  
average_tenure &lt;- hr_attrition %&gt;%
  summarise(average_tenure = mean(years_at_company)) # Calculate the average tenure of those who left

# Show results
average_tenure </code></pre>
<pre><code>## # A tibble: 1 x 1
##   average_tenure
##            &lt;dbl&gt;
## 1           5.13</code></pre>
<p>As it seems, people often leave the company after 5 years.</p>
</div>
<div id="age-years-at-company-monthly-income-and-years-since-last-promotion" class="section level3">
<h3>Age, Years at company, Monthly income and Years since last promotion</h3>
<p>We will analyse how these variables are distributed. First we need to subset our data.</p>
<pre class="r"><code># Select variables for analysis
summary_stats &lt;- hr_cleaned %&gt;% 
  select(age, years_at_company, monthly_income, years_since_last_promotion)

# Data Summary
skim(summary_stats)</code></pre>
<table>
<caption>(#tab:summary_stats)Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">summary_stats</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">1470</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">4</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">4</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">age</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">36.92</td>
<td align="right">9.14</td>
<td align="right">18</td>
<td align="right">30</td>
<td align="right">36</td>
<td align="right">43</td>
<td align="right">60</td>
<td align="left">▂▇▇▃▂</td>
</tr>
<tr class="even">
<td align="left">years_at_company</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7.01</td>
<td align="right">6.13</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">5</td>
<td align="right">9</td>
<td align="right">40</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">monthly_income</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6502.93</td>
<td align="right">4707.96</td>
<td align="right">1009</td>
<td align="right">2911</td>
<td align="right">4919</td>
<td align="right">8379</td>
<td align="right">19999</td>
<td align="left">▇▅▂▁▂</td>
</tr>
<tr class="even">
<td align="left">years_since_last_promotion</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.19</td>
<td align="right">3.22</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">15</td>
<td align="left">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
<p>Looking at the summary statistics we can infer that age is the closest one to the normal distribution. Let’s analyse this in further detail. We will plot each distribution and analyse within <strong>each</strong> department: Sales, Research and HR.</p>
<div id="age-distribution" class="section level4">
<h4>Age Distribution</h4>
<pre class="r"><code># Plot Age distribution
age_dist &lt;- ggplot(hr_cleaned, aes(x=age, fill = department)) +
  geom_bar() +
  labs(title = &quot;Age distribution of IBM Employees&quot;,
       caption = &quot;Source: IBM HR Analytics Employee Attrition &amp; Performance dataset&quot;,
       fill = &quot;Department&quot;) +
  xlab(&quot;Age&quot;)

plot(age_dist)</code></pre>
<p><img src="/blogs/ibm_files/figure-html/age_dist-1.png" width="648" style="display: block; margin: auto;" />
We see that the majority of the IBM employees are between the age of 30-36 years with the peak being at 35 years. Within the departments, Research and development and Sales department follow the overall trend. However for the Human Resource department, we see an uneven trend.</p>
</div>
<div id="tenure-distribution" class="section level4">
<h4>Tenure distribution</h4>
<pre class="r"><code># Plot tenure distribution
tenure_dist &lt;- ggplot(hr_cleaned, aes(x=years_at_company, fill = department)) +
  geom_bar() +
  labs(title = &quot;Tenure distribution of IBM Employees&quot;,
       caption = &quot;Source: IBM HR Analytics Employee Attrition &amp; Performance dataset&quot;,
       fill = &quot;Department&quot;) +
  xlab(&quot;Tenure&quot;)

plot(tenure_dist)</code></pre>
<p><img src="/blogs/ibm_files/figure-html/tenure_dist-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>Most of the IBM employees have a tenure of between 1-5 years with the peak being at 5 years. The trend is consistent within the various departments as well.</p>
</div>
<div id="income-distribution" class="section level4">
<h4>Income distribution</h4>
<pre class="r"><code># Plot Monthly income distribution
income_dist&lt;- ggplot(hr_cleaned, aes(x=monthly_income, fill = department)) +
  geom_histogram(color = &#39;white&#39;) +
  labs(title = &quot;Monthly Income Distribution of IBM Employees&quot;,
       caption = &quot;Source: IBM HR Analytics Employee Attrition &amp; Performance dataset&quot;,
       fill = &quot;Department&quot;) +
  xlab(&quot;Monthly Income&quot;)

plot(income_dist)</code></pre>
<p><img src="/blogs/ibm_files/figure-html/income_dist-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>We see that the monthly income data is <code>left-skewed</code> with most of the employees falling in the range of 2000-7000. The trend is consistent with both the HR and Research and development departments however for the Sales department, we see the trend shifting towards the right and an irregular trend with the peak at 5000 as opposed to the general trend of 2500.</p>
<p>Let’s analyse this by education level</p>
<pre class="r"><code>income_dist&lt;-ggplot(hr_cleaned,aes(x=monthly_income,
                                   fill=department)) +
  geom_histogram(color=&#39;white&#39;) +
  
  labs(title=&#39;Distribution of monthly income at IBM&#39;,
       x=&#39;Monthly income&#39;,
       y=&#39;Count&#39;,
       caption = &quot;Source: IBM HR Analytics Employee Attrition &amp; Performance dataset&quot;,
       fill=&#39;department&#39;) +
  facet_wrap(~education) +
  theme_bw()

plot(income_dist)</code></pre>
<p><img src="/blogs/ibm_files/figure-html/income_education-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>In most cases, the distribution seems to be <code>left-skewed</code> as well. It can also be appreciated that most of the salaries hoover around the lower-levels in employees who are educated up to bachelor’s degree.</p>
</div>
<div id="promotion-distribution" class="section level4">
<h4>Promotion Distribution</h4>
<pre class="r"><code># Plot Years since last promotion distribution
promotion_dist&lt;-ggplot(hr_cleaned, aes(x=years_since_last_promotion, fill = department)) +
  geom_bar() +
  labs(title = &quot;Years since last promotion Distribution of IBM Employees&quot;,
       caption = &quot;Source: IBM HR Analytics Employee Attrition &amp; Performance dataset&quot;,
       fill = &quot;Department&quot;) +
  xlab(&quot;Years since last promotion&quot;)

plot(promotion_dist)</code></pre>
<p><img src="/blogs/ibm_files/figure-html/promotion_dist-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>The data for this is left skewed with most of the employees having their last promotion within 0-2 years.</p>
</div>
</div>
<div id="work-life-balance-and-job-satisfaction" class="section level3">
<h3>Work life balance and Job Satisfaction</h3>
<p>How are these distributed? Let’s find out.</p>
<p>First, we need to create a data set that will allow us to plot this data including percentages. We will include a column “n” to count the categories inside the satisfaction, and another one called “ratio” to represent that in “%”</p>
<p>We will also change the order of the satisfaction and work life balance levels so as to get a better ordered plot.</p>
<pre class="r"><code># Compare satisfaction and work life balance

# Create object data frame 
sat_wlb &lt;- hr_cleaned %&gt;% 
  # Select the variables
  select(environment_satisfaction, 
         work_life_balance) %&gt;% 
 
   # Group by satisfaction 
  group_by(environment_satisfaction) %&gt;% 
  # Generate a column that counts the work_life_balance in environment_satisfaction
  count(work_life_balance) %&gt;% 
  
  # Create a ratio of work_life_balance in environment_satisfaction
  mutate(ratio = percent(n/sum(n))) %&gt;%
  
  # Convert to factor to display in correct order in the bar plot
  mutate(environment_satisfaction = factor(environment_satisfaction, 
                                           c(&quot;Low&quot;, &quot;Medium&quot;, &quot;High&quot;,&quot;Very High&quot;)), 
         work_life_balance = factor(work_life_balance, 
                                    c(&quot;Bad&quot;, &quot;Good&quot;, &quot;Better&quot;,&quot;Best&quot;))
         ) 

# Show results
kable(sat_wlb)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">environment_satisfaction</th>
<th align="left">work_life_balance</th>
<th align="right">n</th>
<th align="left">ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">High</td>
<td align="left">Bad</td>
<td align="right">22</td>
<td align="left">4.9%</td>
</tr>
<tr class="even">
<td align="left">High</td>
<td align="left">Best</td>
<td align="right">53</td>
<td align="left">11.7%</td>
</tr>
<tr class="odd">
<td align="left">High</td>
<td align="left">Better</td>
<td align="right">278</td>
<td align="left">61.4%</td>
</tr>
<tr class="even">
<td align="left">High</td>
<td align="left">Good</td>
<td align="right">100</td>
<td align="left">22.1%</td>
</tr>
<tr class="odd">
<td align="left">Low</td>
<td align="left">Bad</td>
<td align="right">20</td>
<td align="left">7.0%</td>
</tr>
<tr class="even">
<td align="left">Low</td>
<td align="left">Best</td>
<td align="right">30</td>
<td align="left">10.6%</td>
</tr>
<tr class="odd">
<td align="left">Low</td>
<td align="left">Better</td>
<td align="right">167</td>
<td align="left">58.8%</td>
</tr>
<tr class="even">
<td align="left">Low</td>
<td align="left">Good</td>
<td align="right">67</td>
<td align="left">23.6%</td>
</tr>
<tr class="odd">
<td align="left">Medium</td>
<td align="left">Bad</td>
<td align="right">13</td>
<td align="left">4.5%</td>
</tr>
<tr class="even">
<td align="left">Medium</td>
<td align="left">Best</td>
<td align="right">25</td>
<td align="left">8.7%</td>
</tr>
<tr class="odd">
<td align="left">Medium</td>
<td align="left">Better</td>
<td align="right">171</td>
<td align="left">59.6%</td>
</tr>
<tr class="even">
<td align="left">Medium</td>
<td align="left">Good</td>
<td align="right">78</td>
<td align="left">27.2%</td>
</tr>
<tr class="odd">
<td align="left">Very High</td>
<td align="left">Bad</td>
<td align="right">25</td>
<td align="left">5.6%</td>
</tr>
<tr class="even">
<td align="left">Very High</td>
<td align="left">Best</td>
<td align="right">45</td>
<td align="left">10.1%</td>
</tr>
<tr class="odd">
<td align="left">Very High</td>
<td align="left">Better</td>
<td align="right">277</td>
<td align="left">62.1%</td>
</tr>
<tr class="even">
<td align="left">Very High</td>
<td align="left">Good</td>
<td align="right">99</td>
<td align="left">22.2%</td>
</tr>
</tbody>
</table>
<pre class="r"><code>plot_sat_wlb&lt;- ggplot(sat_wlb, aes(x=environment_satisfaction,
                    y=n,
                    fill = work_life_balance)) +
                       
  geom_col() +
  geom_text(aes(label= ratio
                      ),
                  position = position_stack(vjust=0.45)
                  ) +
  
  scale_x_discrete(limits=c(&quot;Low&quot;,&quot;Medium&quot;,&quot;High&quot;,&quot;Very High&quot;)) +
  
  labs(title = &quot;Environment Satisfaction and Work Life Balance&quot;,
       fill = &quot;Work Life Balance&quot;,
       caption = &quot;Source: IBM HR Analytics Employee Attrition &amp; Performance dataset&quot;) +
  xlab(&quot;Environment Satisfaction&quot;) +
  ylab(&quot;Count&quot;)

plot(plot_sat_wlb)</code></pre>
<p><img src="/blogs/ibm_files/figure-html/plot_sat_wlb-1.png" width="648" style="display: block; margin: auto;" /></p>
</div>
<div id="income-education-level-and-gender" class="section level3">
<h3>Income, education level and gender</h3>
<p>As we previously saw, the distribution of the monthly income is <code>left-skewed</code>. Since the mean will be too sensitive with the <code>outliers</code>, we need to analyse the income using the <code>median</code>, and not the <code>mean</code>.</p>
<p>We will now create 3 different data sets comparing the median with other categorical variables.</p>
<pre class="r"><code># Calculate mean income by education
income_edu &lt;- hr_cleaned %&gt;%
  group_by(education) %&gt;%
  summarise(median_income = median(monthly_income))

# Calculate mean income by gender
income_gender &lt;- hr_cleaned %&gt;%
  group_by(gender) %&gt;%
  summarise (median_income = median(monthly_income))


# Mean income by education and gender

edu_gen&lt;- hr_cleaned %&gt;%
  group_by(education, gender) %&gt;%
  summarise(median_income = median(monthly_income))</code></pre>
<p>Show results and plot data. We will include <code>theme_bw()</code> to make it look good.</p>
<pre class="r"><code># Show results on education
kable(income_edu)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">education</th>
<th align="right">median_income</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Bachelor</td>
<td align="right">4762</td>
</tr>
<tr class="even">
<td align="left">Below College</td>
<td align="right">3849</td>
</tr>
<tr class="odd">
<td align="left">College</td>
<td align="right">4892</td>
</tr>
<tr class="even">
<td align="left">Doctor</td>
<td align="right">6203</td>
</tr>
<tr class="odd">
<td align="left">Master</td>
<td align="right">5342</td>
</tr>
</tbody>
</table>
<pre class="r"><code># Plot education vs income
ggplot(income_edu, aes(reorder(education,
                       median_income),
                       median_income,
                       fill = education)) +
  geom_col() +
  labs(title = &quot;Relationship between education and monthly income at IBM&quot;,
       caption = &quot;Source: IBM HR Analytics Employee Attrition &amp; Performance dataset&quot;) +
  ylab(&quot;Median monthly income&quot;) +
  xlab(&quot;Education Level&quot;) +
  theme_bw() + # Add theme
  theme(legend.position = &quot;none&quot;)</code></pre>
<p><img src="/blogs/ibm_files/figure-html/income_grouped_education-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>As it can be appreciated, there is a relationship between education levels. From lowest to highest, the more educated the employee, the more they are expected to earn. However, the median of those who are only educated up to college degree seem to be higher than those who went on to do a bachelors degree.</p>
<pre class="r"><code># Show results on gender
kable(income_gender)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">gender</th>
<th align="right">median_income</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Female</td>
<td align="right">5082</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="right">4838</td>
</tr>
</tbody>
</table>
<p>We will now add <code>theme_economist()</code> to this plot to make it look good.</p>
<pre class="r"><code># Plot gender vs income
income_gender_p&lt;-ggplot(income_gender, aes(gender,
                       median_income,
                       fill = gender)) +
  geom_col() +
  labs(title = &quot;Relationship between gender and median income at IBM&quot;,
       caption = &quot;Source: IBM HR Analytics Employee Attrition &amp; Performance dataset&quot;) +
  xlab(&quot;Gender&quot;) +
  ylab(&quot;Median Income&quot;) +
  theme_economist() +
  theme(legend.position = &quot;none&quot;)
  
plot(income_gender_p)</code></pre>
<p><img src="/blogs/ibm_files/figure-html/income_gender_p-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>According to the plot, women earn more than men at IBM.</p>
<pre class="r"><code># Show results by education and gender
kable(edu_gen)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">education</th>
<th align="left">gender</th>
<th align="right">median_income</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Bachelor</td>
<td align="left">Female</td>
<td align="right">5042</td>
</tr>
<tr class="even">
<td align="left">Bachelor</td>
<td align="left">Male</td>
<td align="right">4661</td>
</tr>
<tr class="odd">
<td align="left">Below College</td>
<td align="left">Female</td>
<td align="right">3924</td>
</tr>
<tr class="even">
<td align="left">Below College</td>
<td align="left">Male</td>
<td align="right">3752</td>
</tr>
<tr class="odd">
<td align="left">College</td>
<td align="left">Female</td>
<td align="right">4999</td>
</tr>
<tr class="even">
<td align="left">College</td>
<td align="left">Male</td>
<td align="right">4741</td>
</tr>
<tr class="odd">
<td align="left">Doctor</td>
<td align="left">Female</td>
<td align="right">7050</td>
</tr>
<tr class="even">
<td align="left">Doctor</td>
<td align="left">Male</td>
<td align="right">5938</td>
</tr>
<tr class="odd">
<td align="left">Master</td>
<td align="left">Female</td>
<td align="right">5408</td>
</tr>
<tr class="even">
<td align="left">Master</td>
<td align="left">Male</td>
<td align="right">5334</td>
</tr>
</tbody>
</table>
<pre class="r"><code># Plot income by education and gender
  
ggplot(edu_gen, aes(x=reorder(education,median_income),
                    y=median_income,
                    fill = gender)) +
geom_col(position = position_dodge(preserve=&#39;single&#39;)) +
  labs(title = &quot;Relationship between education and median income at IBM per gender&quot;,
       caption = &quot;Source: IBM HR Analytics Employee Attrition &amp; Performance dataset&quot;,
       fill = &#39;Gender&#39;) +
  ylab(&quot;Median income&quot;) +
  xlab(&quot;Education Level&quot;) +
  theme_bw() </code></pre>
<p><img src="/blogs/ibm_files/figure-html/income_educ_gender-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>On most levels, women earn more than men at IBM. The biggest discrepancy comes in the “Doctor” level. Let’s take a further look at this level.</p>
<pre class="r"><code>df_2 &lt;- edu_gen %&gt;%
  filter(education == &quot;Doctor&quot;)

kable(df_2)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">education</th>
<th align="left">gender</th>
<th align="right">median_income</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Doctor</td>
<td align="left">Female</td>
<td align="right">7050</td>
</tr>
<tr class="even">
<td align="left">Doctor</td>
<td align="left">Male</td>
<td align="right">5938</td>
</tr>
</tbody>
</table>
<p>Indeed, the females earn more than the men.</p>
</div>
<div id="income-vs-job-role" class="section level3">
<h3>Income vs Job Role</h3>
<p>How is the income distributed vs the job role? We will use a boxplot to analyse this.</p>
<pre class="r"><code>#plotting boxplot between rob role and monthly income
income_job_role&lt;- ggplot(hr_cleaned, aes(x=reorder(job_role, -monthly_income),
                       y=monthly_income,
                       fill = job_role)) + 
  geom_boxplot() + #plotting boxplot between rob role and monthly income
  theme(axis.text.x=element_text(angle=90,margin = margin(1, unit = &quot;mm&quot;),vjust =1))+ # readjusting a congested x axis
  #adding titles
  labs(title = &quot;Monthly income by Job Role&quot;,
       caption = &quot;Source: IBM HR Analytics Employee Attrition &amp; Performance dataset&quot;) +
  xlab(&quot;Job Role&quot;) +
  ylab(&quot;Monthly income&quot;) +
  theme(legend.position = &#39;none&#39;)


plot(income_job_role)</code></pre>
<p><img src="/blogs/ibm_files/figure-html/income_job_role-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>As it seems, managers and research directors are the highest paid at IBM.</p>
</div>
<div id="income-age-and-roles" class="section level3">
<h3>Income, age and roles</h3>
<p>As a final analysis, we will proceed to plot the distribution of income by age in the different roles</p>
<p><img src="/blogs/ibm_files/figure-html/income_age_fjob_level-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>We gather that “Managers” and “Research directors” roles are generally taken up by experienced candidates and thus they are right skewed and have higher monthly incomes. The Sales executive roles usually have a lower age and a higher income which is why we have a higher monthly income average for the Sales department. Human Resources and Sales Executives roles are generally the ones with the lowest incomes.</p>
</div>
<div id="conclusion" class="section level3">
<h3>Conclusion</h3>
<p>We can conclude that the average tenure of employees at IBM is low and attrition is high because the monthly incomes are quite low and hence people tend to look for better opportunities. In addition to this, the data also shows that the employees are moderately satisfied with the working condition at IBM.</p>
<p>We also note that average monthly income is higher for advanced degrees which may be taken up by Managers or Directors. IBM also tends to pay more to female employees especially if they have an advanced degree.</p>
</div>
</div>
</div>
